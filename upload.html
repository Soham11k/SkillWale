<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Resume Analyzer – SkillWale</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 0px rgba(255,255,255,0.6); }
      50% { box-shadow: 0 0 20px rgba(255,255,255,0.8); }
      100% { box-shadow: 0 0 0px rgba(255,255,255,0.6); }
    }
    .glow {
      animation: pulseGlow 2s infinite;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-indigo-700 to-pink-500 text-white min-h-screen px-6 py-12 font-sans">

  <div class="max-w-3xl mx-auto text-center">
    <h1 class="text-5xl font-bold mb-4">📤 Upload & Analyze Resumes</h1>
    <p class="text-lg mb-8">Let AI scan your skills and suggest the most suitable jobs – SkillWale style 💼✨</p>

    <label for="resumeInput" class="cursor-pointer bg-white text-indigo-700 font-semibold px-6 py-3 rounded-xl shadow-lg hover:bg-indigo-100 glow transition">
      📎 Choose Resume Files
      <input type="file" id="resumeInput" multiple accept=".pdf,.doc,.docx,.txt" class="hidden" />
    </label>

    <div id="loadingText" class="text-pink-200 mt-4 text-sm hidden">Analyzing your talent using Gen AI magic...</div>
  </div>

  <div id="results" class="mt-12 max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6"></div>

  <script>
    function simulateAIJobMatch(text) {
      const lower = text.toLowerCase();
      if (lower.includes("python") && lower.includes("ml")) return "🧠 AI/ML Engineer";
      if (lower.includes("react") || lower.includes("javascript")) return "🎨 Frontend Developer";
      if (lower.includes("node") || lower.includes("spring")) return "🖥️ Backend Developer";
      if (lower.includes("marketing") || lower.includes("seo")) return "📢 Digital Marketer";
      if (lower.includes("excel") || lower.includes("finance")) return "📊 Business Analyst";
      return "🧩 Generalist Role";
    }

    function storeResult(filename, jobRole) {
      const existing = JSON.parse(localStorage.getItem("resumeResults")) || [];
      existing.push({ filename, jobRole, timestamp: new Date().toISOString() });
      localStorage.setItem("resumeResults", JSON.stringify(existing));
    }

    function showResult(filename, jobRole) {
      const resultBox = document.createElement("div");
      resultBox.className = "bg-white bg-opacity-10 p-6 rounded-xl shadow-lg backdrop-blur-sm";
      resultBox.innerHTML = `
        <h3 class="text-xl font-semibold mb-2">${filename}</h3>
        <p class="text-lg">✅ <span class="text-green-300 font-medium">Suggested Job:</span> ${jobRole}</p>
        <p class="text-xs text-pink-100 mt-2">Saved to your device</p>
      `;
      document.getElementById("results").appendChild(resultBox);
    }

    async function handleResumeUpload(file) {
      const text = await file.text();
      const job = simulateAIJobMatch(text);
      storeResult(file.name, job);
      showResult(file.name, job);
    }

    document.getElementById('resumeInput').addEventListener('change', (event) => {
      const files = Array.from(event.target.files);
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      document.getElementById("loadingText").classList.remove("hidden");

      setTimeout(() => {
        document.getElementById("loadingText").classList.add("hidden");
        files.forEach(file => handleResumeUpload(file));
      }, 2000); // simulate AI thinking
    });
  </script>

</body>
</html>
